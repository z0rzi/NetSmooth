<html lang=fr>
	<head>
		<meta charset=UTF-8>
		<title>Machine</title>
		<link rel=stylesheet type=text/css  href=style.css>
		<script src=JavaScript.js></script>
	</head>
	<body style="text-align:center; font-family: sans-serif">
	<a href=index.html style="position:absolute;left:20px;text-decoration:none;color:black;border:solid black 2px;padding:5px;background:#F0F0F0;border-radius:10px;">retour</a>
		<h1>Classe Machine</h1>
		<table style="text-align: left; width: 50%; margin: auto; border-spacing:20px;">
<tr><td style="background: #F0F0F0; padding:20px; border:solid black 3px;"><table style="display: inline-block;">
<tr><td><h2>	paramRoutage</h2></td></tr>
<tr><td> structure qui permet de stocker les parametres de routage d'une machine pour les lui appliquer lors de son démarage</td></tr>
</table></td></tr>
<tr><td style="background: #F0F0F0; padding:20px; border:solid black 3px;"><table style="display: inline-block;">
<tr><td><h2>	paramIp</h2></td></tr>
<tr><td> structure qui permet de stocker les parametres IP d'une machine pour les lui appliquer lors de son démarage</td></tr>
</table></td></tr>
<tr><td style="background: #F0F0F0; padding:20px; border:solid black 3px;"><table style="display: inline-block;">
<tr><td><h2>	Machine(int num, int type, struct lxc_container* c)</h2></td></tr>
<tr><td> Constructeur de la classe, il appelle le constructeur de Entitee et initialise l'argument container </td></tr>
<tr><td><h3>arguments:</h3></td></tr>
<tr><td><b style="text-decoration:underline">-num</b></td></tr><tr>
<tr><td>numero de la machine</td></tr>
<tr><td><b style="text-decoration:underline">-type</b></td></tr><tr>
<tr><td>type de la machine (TYPE_ORDINATEUR ou TYPE_PASSERELLE)</td></tr>
<tr><td><b style="text-decoration:underline">-c</b></td></tr><tr>
<tr><td>container associé a la machine</td></tr>
</table></td></tr>
<tr><td style="background: #F0F0F0; padding:20px; border:solid black 3px;"><table style="display: inline-block;">
<tr><td><h2>	struct lxc_container* getContainer() const</h2></td></tr>
<tr><td> permet de recuperer le container associé a la machine </td></tr>
<tr><td><h3>valeur de retour:</h3></td></tr>
<tr><td>adresse du container associé a la machine</td></tr>
</table></td></tr>
<tr><td style="background: #F0F0F0; padding:20px; border:solid black 3px;"><table style="display: inline-block;">
<tr><td><h2>	void addIpConfig(struct paramIp ip)</h2></td></tr>
<tr><td> permet d'ajouter une configuration IP a une machine </td></tr>
<tr><td><h3>arguments:</h3></td></tr>
<tr><td><b style="text-decoration:underline">-ip</b></td></tr><tr>
<tr><td>structure contenant les parametres IP a ajouter</td></tr>
</table></td></tr>
<tr><td style="background: #F0F0F0; padding:20px; border:solid black 3px;"><table style="display: inline-block;">
<tr><td><h2>	vector<struct paramIp> getIpConfig() const</h2></td></tr>
<tr><td> permet de recuperer les configurations IP d'une machine </td></tr>
<tr><td><h3>valeur de retour:</h3></td></tr>
<tr><td>tableau (sous forme de vector) contenant toutes les configurations IP</td></tr>
</table></td></tr>
<tr><td style="background: #F0F0F0; padding:20px; border:solid black 3px;"><table style="display: inline-block;">
<tr><td><h2>	void addRouteConfig(struct paramRoutage route)</h2></td></tr>
<tr><td> permet d'ajouter une configuration de routage a une machine </td></tr>
<tr><td><h3>arguments:</h3></td></tr>
<tr><td><b style="text-decoration:underline">-route</b></td></tr><tr>
<tr><td>structure contenant les parametres de routage a ajouter</td></tr>
</table></td></tr>
<tr><td style="background: #F0F0F0; padding:20px; border:solid black 3px;"><table style="display: inline-block;">
<tr><td><h2>	vector<struct paramRoutage> getRouteConfig() const</h2></td></tr>
<tr><td> permet de recuperer les configurations de routage d'une machine </td></tr>
<tr><td><h3>valeur de retour:</h3></td></tr>
<tr><td>tableau (sous forme de vector) contenant touts les parametres de routage de la machine</td></tr>
</table></td></tr>
<tr><td style="background: #F0F0F0; padding:20px; border:solid black 3px;"><table style="display: inline-block;">
<tr><td><h2>	int lancerContainer()</h2></td></tr>
<tr><td> permet de lancer le container associé a la machine </td></tr>
<tr><td><h3>remarques:</h3></td></tr>
<tr><td>Si vous voulez lancer la machine, utilisez la methode launchEntitee de la classe entitee, cette methode ne lance que le container, et ne fait pas toutes les opérations annexes necessaire au bon lancement de la machine</td></tr>
</table></td></tr>
<tr><td style="background: #F0F0F0; padding:20px; border:solid black 3px;"><table style="display: inline-block;">
<tr><td><h2>	int stopperContainer()</h2></td></tr>
<tr><td> permet de stopper le container associé a la machine </td></tr>
<tr><td><h3>valeur de retour:</h3></td></tr>
<tr><td>0 en cas de succes, -1 sinon</td></tr>
</table></td></tr>
<tr><td style="background: #F0F0F0; padding:20px; border:solid black 3px;"><table style="display: inline-block;">
<tr><td><h2>	void force_stopperContainer()</h2></td></tr>
<tr><td> permet de stopper le container associé a la machine, de maniere plus violente que stopperContainer (il tue le PID du container)</td></tr>
</table></td></tr>
<tr><td style="background: #F0F0F0; padding:20px; border:solid black 3px;"><table style="display: inline-block;">
<tr><td><h2>	void lierABridge()</h2></td></tr>
<tr><td> permet de lier le container au bridge actuel </td></tr>
<tr><td><h3>remarques:</h3></td></tr>
<tr><td>fonction a utiliser uniquement lorsque le container (et donc la machine) est lancé</td></tr>
</table></td></tr>
<tr><td style="background: #F0F0F0; padding:20px; border:solid black 3px;"><table style="display: inline-block;">
<tr><td><h2>	void appliquerParamIp()</h2></td></tr>
<tr><td> permet d'appliquer les parametres IP qui ont étés préalablement ajoutés avec addIpConfig() </td></tr>
<tr><td><h3>remarques:</h3></td></tr>
<tr><td>fonction a utiliser uniquement lorsque le container (et donc la machine) est lancé</td></tr>
</table></td></tr>
<tr><td style="background: #F0F0F0; padding:20px; border:solid black 3px;"><table style="display: inline-block;">
<tr><td><h2>	void appliquerParamRoutage()</h2></td></tr>
<tr><td> permet d'appliquer les parametres de routage qui ont étés préalablementi ajoutés avec addRouteConfig() </td></tr>
<tr><td><h3>remarques:</h3></td></tr>
<tr><td>fonction a utiliser uniquement lorsque le container (et donc la machine) est lancé</td></tr>
</table></td></tr>
<tr><td style="background: #F0F0F0; padding:20px; border:solid black 3px;"><table style="display: inline-block;">
<tr><td><h2>	void lancerCommandeDansContainer(char** commande)</h2></td></tr>
<tr><td> permet de lancer une commande dans le container </td></tr>
<tr><td><h3>arguments:</h3></td></tr>
<tr><td><b style="text-decoration:underline">-commande:</b></td></tr><tr>
<tr><td>chaine de caracteres a deux dimensions representant la commande exemple:char** cmd={"echo", "HelloWord", NULL}; </td></tr>
<tr><td><h3>remarques:</h3></td></tr>
<tr><td>Le dernier element de la chaine doit etre NULL, comme dans l'exemple ci dessus  fonction a utiliser uniquement lorsque le container (et donc la machine) est lancé</td></tr>
</table></td></tr>
<tr><td style="background: #F0F0F0; padding:20px; border:solid black 3px;"><table style="display: inline-block;">
<tr><td><h2>	void lancerXterm()</h2></td></tr>
<tr><td> permet de lancer une fenetre Xterm representant le terminal de la machine</td></tr>
</table></td></tr>
<tr><td style="background: #F0F0F0; padding:20px; border:solid black 3px;"><table style="display: inline-block;">
<tr><td><h2>	container associé a la machine, quand on</h2></td></tr>
<tr><td>fait tourner la machine, c'est ce container que l'on lance</td></tr>
</table></td></tr>
		</table>
	</body>
</html>
